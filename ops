{"author":{"id":"778d0d8adcf381faef152a6577de9902e431612075f7585af0b6ac9d7d1c1475"},"ops":[{"type":3,"author":{"id":"778d0d8adcf381faef152a6577de9902e431612075f7585af0b6ac9d7d1c1475"},"timestamp":1572876247,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU0OTM2NzgxNg==","github-url":"https://github.com/rurban/smhasher/issues/76#issuecomment-549367816"},"nonce":"5nYj1mlsbpdFKAG9RkX963j2DsQ=","message":"Dear All:\nBased on my own simple speed test code, it seems that XXH3 is faster than wyhash. Maybe the good performance of wyhash is only within SMHasher environment. I will work harder...","files":null},{"type":3,"author":{"id":"778d0d8adcf381faef152a6577de9902e431612075f7585af0b6ac9d7d1c1475"},"timestamp":1572878341,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU0OTM4MzQyNQ==","github-url":"https://github.com/rurban/smhasher/issues/76#issuecomment-549383425"},"nonce":"WzXR5XK4kkjqGiXjJ/vEjNeyUS0=","message":"I found the problem of difference between SMHasher and real enviroment:\nwhen len is fixed, wyhash is faster, while len=atoi(av[1]), xxh3 is faster.\n\n```c++ \n #include    \"xxHash/xxh3.h\"\n #include    \"wyhash/wyhash.h\"\n #include    \u003csys/time.h\u003e\n #include    \u003ccstdlib\u003e\n #include    \u003ciostream\u003e\n using   namespace   std;\n const   size_t  N=0x10000000;\n\n int main(int    ac, char    **av){\n     uint64_t    len=31;//atoi(av[1]);\n     char    p[]=\"abcdefghijklmnopqrstuvwxyz0123456789\"; uint64_t    dummy=0;    double  dt;\n     timeval beg,    end;\n\n     gettimeofday(\u0026beg,NULL);\n     for(size_t  i=0;    i\u003cN;    i++)    dummy+=XXH3_64bits_withSeed(p, len, i);\n     gettimeofday(\u0026end,NULL);\n     dt=end.tv_sec-beg.tv_sec+1e-6*(end.tv_usec-beg.tv_usec);\n     cerr\u003c\u003c\"xxh3\\t\"\u003c\u003c1e-6*N/dt\u003c\u003c\"\\thashes/us\\n\";\n\n     gettimeofday(\u0026beg,NULL);\n     for(size_t  i=0;    i\u003cN;    i++)    dummy+=wyhash(p,    len,    i);\n     gettimeofday(\u0026end,NULL);\n     dt=end.tv_sec-beg.tv_sec+1e-6*(end.tv_usec-beg.tv_usec);\n     cerr\u003c\u003c\"wyhash_v3\\t\"\u003c\u003c1e-6*N/dt\u003c\u003c\"\\thashes/us\\n\";\n      return  dummy;\n  }\n```","files":null}]}