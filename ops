{"author":{"id":"c3ed89b71774c232090aae9d596f04a34aa508024637803b2c588c2d8aa95519"},"ops":[{"type":1,"author":{"id":"c3ed89b71774c232090aae9d596f04a34aa508024637803b2c588c2d8aa95519"},"timestamp":1590312279,"metadata":{"github-id":"MDU6SXNzdWU2MjM4Mjc2NjY=","github-url":"https://github.com/rurban/smhasher/issues/126","origin":"github"},"nonce":"HruuFYIaBSAOyjIhfxqH17ISzw4=","title":"MomentChi2 test seems to be broken","message":"Compiled with Visual Studio 2019.\n\nAll hashes I tested fail MomentChi2 with very high values (\u003e1e+9).\n\n```\n\u003e SMHasher.exe t1ha2_atonce --test=MomentChi2\n--- Testing t1ha2_atonce \"Fast Positive Hash (portable, aims 64-bit, little-endian)\" GOOD\n\n[[[ MomentChi2 Tests ]]]\n\nAnalyze hashes produced from a serie of linearly increasing numbers of 32-bit, using a step of 3 ...\nTarget values to approximate : 38918200.000000 - 410450.000000\nPopcount 1 stats : 1391322.120073 - 1030.953528\nPopcount 0 stats : 263694225.752220 - 4208096.098738\nMomentChi2 for bits 1 :  3.42243e+09\nMomentChi2 for bits 0 :  1.09394e+10\n\nDerivative stats (transition from 2 consecutive values) :\nPopcount 1 stats : 1391298.179826 - 1030.866239\nPopcount 0 stats : 263694337.428723 - 4207984.840833\nMomentChi2 for deriv b1 :  3.42244e+09\nMomentChi2 for deriv b0 :  1.09397e+10\n\n  FAIL !!!!\n\n\n*********FAIL*********\n\n\nInput vcode 0x00000001, Output vcode 0x00000001, Result vcode 0x00000001\nVerification value is 0x00000001 - Testing took 29.981000 seconds\n```\n\n```\n\u003e SMHasher.exe sha1-160 --test=MomentChi2\n--- Testing sha1-160 \"SHA1\" GOOD\n\n[[[ MomentChi2 Tests ]]]\n\nAnalyze hashes produced from a serie of linearly increasing numbers of 32-bit, using a step of 6 ...\nTarget values to approximate : 38918200.000000 - 410450.000000\nPopcount 1 stats : 1391287.999138 - 2061.763745\nPopcount 0 stats : 263696945.359308 - 8416819.141680\nMomentChi2 for bits 1 :  3.41389e+09\nMomentChi2 for bits 0 :  5.7238e+09\n\nDerivative stats (transition from 2 consecutive values) :\nPopcount 1 stats : 1391246.916241 - 2061.409506\nPopcount 0 stats : 263695644.231922 - 8415697.369428\nMomentChi2 for deriv b1 :  3.4139e+09\nMomentChi2 for deriv b0 :  5.72446e+09\n\n  FAIL !!!!\n\n\n*********FAIL*********\n\n\nInput vcode 0x00000001, Output vcode 0x00000001, Result vcode 0x00000001\nVerification value is 0x00000001 - Testing took 251.685000 seconds\n```\n\n```\n\u003e SMHasher.exe blake3_c --test=MomentChi2\n--- Testing blake3_c \"BLAKE3 c\" GOOD\n\n[[[ MomentChi2 Tests ]]]\n\nAnalyze hashes produced from a serie of linearly increasing numbers of 32-bit, using a step of 6 ...\nTarget values to approximate : 38918200.000000 - 410450.000000\nPopcount 1 stats : 1391328.282159 - 2061.812270\nPopcount 0 stats : 263693655.492775 - 8416226.451384\nMomentChi2 for bits 1 :  3.41388e+09\nMomentChi2 for bits 0 :  5.72401e+09\n\nDerivative stats (transition from 2 consecutive values) :\nPopcount 1 stats : 1391237.956882 - 2061.934717\nPopcount 0 stats : 263702352.344187 - 8417304.231832\nMomentChi2 for deriv b1 :  3.4139e+09\nMomentChi2 for deriv b0 :  5.72376e+09\n\n  FAIL !!!!\n\n\n*********FAIL*********\n\n\nInput vcode 0x00000001, Output vcode 0x00000001, Result vcode 0x00000001\nVerification value is 0x00000001 - Testing took 67.303000 seconds\n```\n\n```\n\u003e SMHasher.exe SipHash --test=MomentChi2\n--- Testing SipHash \"SipHash 2-4 - SSSE3 optimized\" GOOD\n\n[[[ MomentChi2 Tests ]]]\n\nAnalyze hashes produced from a serie of linearly increasing numbers of 32-bit, using a step of 3 ...\nTarget values to approximate : 38918200.000000 - 410450.000000\nPopcount 1 stats : 1391340.411676 - 1031.054316\nPopcount 0 stats : 263695405.661032 - 4208429.792265\nMomentChi2 for bits 1 :  3.42243e+09\nMomentChi2 for bits 0 :  1.09388e+10\n\nDerivative stats (transition from 2 consecutive values) :\nPopcount 1 stats : 1391251.674613 - 1030.873676\nPopcount 0 stats : 263699138.573784 - 4208256.457391\nMomentChi2 for deriv b1 :  3.42245e+09\nMomentChi2 for deriv b0 :  1.09395e+10\n\n  FAIL !!!!\n\n\n*********FAIL*********\n\n\nInput vcode 0x00000001, Output vcode 0x00000001, Result vcode 0x00000001\nVerification value is 0x00000001 - Testing took 55.951000 seconds\n```","files":null}]}