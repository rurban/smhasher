{"author":{"id":"6a7af6b3e0e5ea913025f06841603a15dfe563a86cc2fa4669ceed72ca3345e5"},"ops":[{"type":1,"author":{"id":"6a7af6b3e0e5ea913025f06841603a15dfe563a86cc2fa4669ceed72ca3345e5"},"timestamp":1586271417,"metadata":{"github-id":"MDU6SXNzdWU1OTU5MzI4NDA=","github-url":"https://github.com/rurban/smhasher/issues/118","origin":"github"},"nonce":"XfA1TDJuQcUrr8MLkXE1a8NoyOA=","title":"build on armv7l fails","message":"can modify:\n\n```\nis_arm = machine in ['aarch64', 'aarch64_be', 'armv8b', 'armv8l']\n```\n\nto add armv7l.\n\nHowever, this still tries to compile src/smhasher/metrohash64crc.cpp which apparently relies on i386 64-bit code:\n\n```    \n/home/ubuntu/build/buildroot-2019.11.1/output/host/bin/arm-buildroot-linux-gnueabihf-gcc -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64 -Os -fPIC -c src/smhasher/metrohash64crc.cpp -o build/temp.linux-armv7l-3.8/src/smhasher/metrohash64crc.o -mfloat-abi=hard -march=armv7-a -mfpu=neon\n    src/smhasher/metrohash64crc.cpp:28:10: fatal error: nmmintrin.h: No such file or directory\n     #include \u003cnmmintrin.h\u003e\n              ^~~~~~~~~~~~~\n    compilation terminated.\n    error: command '/home/ubuntu/build/buildroot-2019.11.1/output/host/bin/arm-buildroot-linux-gnueabihf-gcc' failed with exit status 1\n    ----------------------------------------\n```\n\nnmmintrin.h seems to be containing specific optimizations for i386","files":null}]}