{"author":{"id":"382e0604a0cc648df6764230ea7ce0b626217738167eb2200238272b6c52e2a8"},"ops":[{"type":3,"author":{"id":"382e0604a0cc648df6764230ea7ce0b626217738167eb2200238272b6c52e2a8"},"timestamp":1597266893,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY3MzExNDc3NA==","github-url":"https://github.com/rurban/smhasher/issues/121#issuecomment-673114774"},"nonce":"s0EzA8lP4lGTJxu7ZmEBU+ZBNBo=","message":"Yi, one question:\nHow can you state \"**fastest**\" about WYhash when in general lookup hashtable benchmarking IT IS NOT!?\n\nMy quick test on my working laptop (Windows 32, Core 2) shows FNV1A-Pippip is the fastest, hashing 'Shakespeare' - the complete works:\n\n```\nE:\\Lookuperorama.c_r8\u003eLookuperorama_ICC-v15.0_Pippip_64bit.exe KAZE_www.gutenberg.org_ebooks_100.txt x 23 1200 i\n\nRAW Hashing Speed for key 5,784,758 bytes long = 1,111,598,385 1,108,403,525 1,108,191,187 1,104,804,812 1,128,513,070 | 1,128,513,070 BYTES-PER-SECOND\nRAW Hashing Speed for keys 04 bytes long = 91,821,507 KEYS-PER-SECOND; all in 63 clocks\nRAW Hashing Speed for keys 06 bytes long = 73,224,721 KEYS-PER-SECOND; all in 79 clocks\nRAW Hashing Speed for keys 08 bytes long = 73,224,696 KEYS-PER-SECOND; all in 79 clocks\nRAW Hashing Speed for keys 10 bytes long = 52,588,627 KEYS-PER-SECOND; all in 110 clocks\nRAW Hashing Speed for keys 12 bytes long = 52,588,609 KEYS-PER-SECOND; all in 110 clocks\nRAW Hashing Speed for keys 14 bytes long = 52,588,590 KEYS-PER-SECOND; all in 110 clocks\nRAW Hashing Speed for keys 16 bytes long = 52,588,572 KEYS-PER-SECOND; all in 110 clocks\nRAW Hashing Speed for keys 18 bytes long = 30,769,898 KEYS-PER-SECOND; all in 188 clocks\nRAW Hashing Speed for keys 36 bytes long = 21,747,078 KEYS-PER-SECOND; all in 266 clocks\nRAW Hashing Speed for keys 64 bytes long = 16,767,231 KEYS-PER-SECOND; all in 345 clocks\nThe hash scanner - hashing in one pass all orders - TESTING CUMULATIVE PERFORMANCE...\nRAW Hashing Speed for keys 4,6,8,10,12,14,16,18,36,64 bytes long = 32,813,992 KEYS-PER-SECOND; all in 1751 clocks\n\nE:\\Lookuperorama.c_r8\u003eLookuperorama_ICC-v15.0_WY_64bit.exe KAZE_www.gutenberg.org_ebooks_100.txt x 23 1200 i\n\nRAW Hashing Speed for key 5,784,758 bytes long = 1,548,382,762 1,542,190,882 1,542,190,882 1,542,190,882 1,542,190,882 | 1,548,382,762 BYTES-PER-SECOND\nRAW Hashing Speed for keys 04 bytes long = 45,910,753 KEYS-PER-SECOND; all in 126 clocks\nRAW Hashing Speed for keys 06 bytes long = 45,910,738 KEYS-PER-SECOND; all in 126 clocks\nRAW Hashing Speed for keys 08 bytes long = 45,910,722 KEYS-PER-SECOND; all in 126 clocks\nRAW Hashing Speed for keys 10 bytes long = 24,615,953 KEYS-PER-SECOND; all in 235 clocks\nRAW Hashing Speed for keys 12 bytes long = 26,414,369 KEYS-PER-SECOND; all in 219 clocks\nRAW Hashing Speed for keys 14 bytes long = 26,294,295 KEYS-PER-SECOND; all in 220 clocks\nRAW Hashing Speed for keys 16 bytes long = 26,294,286 KEYS-PER-SECOND; all in 220 clocks\nRAW Hashing Speed for keys 18 bytes long = 23,046,776 KEYS-PER-SECOND; all in 251 clocks\nRAW Hashing Speed for keys 36 bytes long = 18,422,684 KEYS-PER-SECOND; all in 314 clocks\nRAW Hashing Speed for keys 64 bytes long = 14,213,009 KEYS-PER-SECOND; all in 407 clocks\nThe hash scanner - hashing in one pass all orders - TESTING CUMULATIVE PERFORMANCE...\nRAW Hashing Speed for keys 4,6,8,10,12,14,16,18,36,64 bytes long = 23,713,289 KEYS-PER-SECOND; all in 2423 clocks\n\nE:\\Lookuperorama.c_r8\u003eLookuperorama_ICC-v15.0_XXH3_64bit.exe KAZE_www.gutenberg.org_ebooks_100.txt x 23 1200 i\n\nRAW Hashing Speed for key 5,784,758 bytes long = 2,569,861,394 2,552,849,955 2,552,849,955 2,551,723,864 2,569,861,394 | 2,569,861,394 BYTES-PER-SECOND\nRAW Hashing Speed for keys 04 bytes long = 26,294,340 KEYS-PER-SECOND; all in 220 clocks\nRAW Hashing Speed for keys 06 bytes long = 28,356,632 KEYS-PER-SECOND; all in 204 clocks\nRAW Hashing Speed for keys 08 bytes long = 26,294,322 KEYS-PER-SECOND; all in 220 clocks\nRAW Hashing Speed for keys 10 bytes long = 28,218,287 KEYS-PER-SECOND; all in 205 clocks\nRAW Hashing Speed for keys 12 bytes long = 28,356,602 KEYS-PER-SECOND; all in 204 clocks\nRAW Hashing Speed for keys 14 bytes long = 28,356,593 KEYS-PER-SECOND; all in 204 clocks\nRAW Hashing Speed for keys 16 bytes long = 28,356,583 KEYS-PER-SECOND; all in 204 clocks\nRAW Hashing Speed for keys 18 bytes long = 17,529,518 KEYS-PER-SECOND; all in 330 clocks\nRAW Hashing Speed for keys 36 bytes long = 11,546,353 KEYS-PER-SECOND; all in 501 clocks\nRAW Hashing Speed for keys 64 bytes long = 11,546,297 KEYS-PER-SECOND; all in 501 clocks\nThe hash scanner - hashing in one pass all orders - TESTING CUMULATIVE PERFORMANCE...\nRAW Hashing Speed for keys 4,6,8,10,12,14,16,18,36,64 bytes long = 18,194,205 KEYS-PER-SECOND; all in 3158 clocks\n\nE:\\Lookuperorama.c_r8\u003eLookuperorama_ICC-v15.0_PRV_64bit.exe KAZE_www.gutenberg.org_ebooks_100.txt x 23 1200 i\n\nRAW Hashing Speed for key 5,784,758 bytes long = 77,875,636 77,793,948 77,826,393 78,205,167 78,056,375 | 78,205,167 BYTES-PER-SECOND\nRAW Hashing Speed for keys 04 bytes long = 13,675,543 KEYS-PER-SECOND; all in 423 clocks\nRAW Hashing Speed for keys 06 bytes long = 9,973,712 KEYS-PER-SECOND; all in 580 clocks\nRAW Hashing Speed for keys 08 bytes long = 8,034,376 KEYS-PER-SECOND; all in 720 clocks\nRAW Hashing Speed for keys 10 bytes long = 6,603,594 KEYS-PER-SECOND; all in 876 clocks\nRAW Hashing Speed for keys 12 bytes long = 5,605,375 KEYS-PER-SECOND; all in 1032 clocks\nRAW Hashing Speed for keys 14 bytes long = 4,931,581 KEYS-PER-SECOND; all in 1173 clocks\nRAW Hashing Speed for keys 16 bytes long = 4,352,703 KEYS-PER-SECOND; all in 1329 clocks\nRAW Hashing Speed for keys 18 bytes long = 3,892,827 KEYS-PER-SECOND; all in 1486 clocks\nRAW Hashing Speed for keys 36 bytes long = 2,044,794 KEYS-PER-SECOND; all in 2829 clocks\nRAW Hashing Speed for keys 64 bytes long = 1,175,034 KEYS-PER-SECOND; all in 4923 clocks\nThe hash scanner - hashing in one pass all orders - TESTING CUMULATIVE PERFORMANCE...\nRAW Hashing Speed for keys 4,6,8,10,12,14,16,18,36,64 bytes long = 3,485,429 KEYS-PER-SECOND; all in 16485 clocks\n```\n\nFirst, WYhash (final) is slower than XXH3 by (2,569,861,394-1,548,382,762)/1,548,382,762= 65%, on 5MB chunk/key.\nSecond, WYhash (final) is slower than FNV1A-Pippip by (2423-1751)/1751= 38%\n\nAs always, the benchmark is reproducible, couldn't run it (as 64bit compiles) on my other laptops since they are unpauseable:\nwww.sanmayce.com/Fastest_Hash/Lookuperorama.c_r8+.zip\n\nSalute you for your superb work, but man, call a spade a spade.","files":null}]}