{"author":{"id":"98ee00eb82aa563088867519efeaba8e972202667fdb6918af923af3bd4bdbba"},"ops":[{"type":1,"timestamp":1662917430,"metadata":{"github-id":"I_kwDOARWYbc5RmXlp","github-url":"https://github.com/rurban/smhasher/issues/241","origin":"github"},"nonce":"3Sz4UOIUG6HdO9/GFWKsNp9kYcA=","title":"The tick counter on ARM is unrelated to the CPU clock","message":"I see Platform.h assumes `asm volatile(\"mrs %0, cntvct_el0\" : \"=r\" (pmccntr));` returns 1/64 of the clock cycle. We can actually read the tick frequency in Hz with\n\n```\n__inline__ uint64_t frequency()\n{\n  uint32_t freq;\n  asm (\"mrs %0, CNTFRQ_EL0\" : \"=r\"(freq));\n  return freq;\n}\n```\n\nThat value is unfortunately unrelated to the CPU clock, but maybe we can return a consistent value like byte/ns.","files":null}]}