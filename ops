{"author":{"id":"382e0604a0cc648df6764230ea7ce0b626217738167eb2200238272b6c52e2a8"},"ops":[{"type":3,"author":{"id":"382e0604a0cc648df6764230ea7ce0b626217738167eb2200238272b6c52e2a8"},"timestamp":1571425563,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU0Mzg5MTUwNA==","github-url":"https://github.com/rurban/smhasher/issues/73#issuecomment-543891504"},"nonce":"LgAOm33MMgNBVIvC1Rd6LkXEcm4=","message":"It looks like a top-performer, already. Very nice article it is, after completion will ask Mr. Evensen for sharing a corpus of keys suitable for such deep tests.\n\nThank you @leo-yuriev, will include it in Lookuperorama r.5, maybe tomorrow night.\nWill put it in Peter's hash.c after an hour or so and will share here the results.\n\nIt is interesting to see how this mixer fares against the simplistic Pippip's endgame.\nAnd since I test only some up to 29bits, I am gonna take lowest 32 bits from its result as in SHA3-224, hope it is a good choice.\n\nExcuse me for not grouping my posts into one, I use an old Windows XP and for some reason github/chrome refuse to allow me editing, putting pictures ... everything except 'Comment' button. A year ago the same machine had these features allowed.","files":null},{"type":3,"author":{"id":"382e0604a0cc648df6764230ea7ce0b626217738167eb2200238272b6c52e2a8"},"timestamp":1571432459,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU0Mzk0NDAxOQ==","github-url":"https://github.com/rurban/smhasher/issues/73#issuecomment-543944019"},"nonce":"Td9ReW99gVGYNCVe6o++aKCxeE8=","message":"@leo-yuriev This is what I put into hash.c:\n```\n// https://github.com/rurban/smhasher/issues/73#issuecomment-543812950\nstatic unsigned long long rrxmrrxmsx_0(unsigned long long v) {\n  // Pelle Evensen's mixer, https://bit.ly/2HOfynt\n  v ^= (v \u003c\u003c 39 | v \u003e\u003e 25) ^ (v \u003c\u003c 14 | v \u003e\u003e 50);\n  v *= (unsigned long long)(0xA24BAED4963EE407);\n  v ^= (v \u003c\u003c 40 | v \u003e\u003e 24) ^ (v \u003c\u003c 15 | v \u003e\u003e 49);\n  v *= (unsigned long long)(0x9FB21C651E98DF25);\n  return v ^ v \u003e\u003e 28;\n}\n\nUINT Hash_LeoPelle(const char *data, SIZE_T bytes)\n{\n    unsigned long long tmp, hash = rrxmrrxmsx_0(rrxmrrxmsx_0(0) + bytes);\n    while(bytes \u003e= sizeof(tmp)) {\n        memcpy(\u0026tmp, data, sizeof(tmp));\n        data = (char*)data + sizeof(tmp);\n        hash = rrxmrrxmsx_0(hash + tmp);\n        bytes -= sizeof(tmp);\n    }\n    if (bytes) {\n        tmp = 0;\n        memcpy(\u0026tmp, data, bytes);\n        hash = rrxmrrxmsx_0(hash + tmp);\n    }\n    return hash\u003e\u003e32; // Highest 32bit, Lowest 32bit, or folded - no time for checking 'em out\n}\n```\n\nAnd results on Kaby Lake:\n\n\n```\ndic_common_words.txt: \n500 lines read\n1024 elements in the table (10 bits)\n           Jesteress:         14 [  110]\n              Meiyan:         19 [  102]\n              Pippip:         13 [  110]\n         Totenschiff:         15 [  105]\n             Yorikke:         14 [  106]\n           Yoshimura:         14 [  109]\n            LeoPelle:         56 [  104]\n              wyhash:         40 [  110]\n     YoshimitsuTRIAD:         22 [  108]\n              FNV-1a:         30 [  124]\n              Larson:         29 [   99]\n              CRC-32:         23 [  101]\n             Murmur2:         17 [  103]\n             Murmur3:         18 [  101]\n           XXHfast32:         23 [  110]\n         XXHstrong32:         24 [  109]\n           iSCSI CRC:         12 [  105]\n \ndic_fr.txt: \n13408 lines read\n32768 elements in the table (15 bits)\n           Jesteress:       1127 [ 2427]\n              Meiyan:       1153 [ 2377]\n              Pippip:        729 [ 2421]\n         Totenschiff:        771 [ 2377]\n             Yorikke:        796 [ 2412]\n           Yoshimura:       1148 [ 2392]\n            LeoPelle:       1918 [ 2344] ! Best dispersion on French words !\n              wyhash:       1260 [ 2366]\n     YoshimitsuTRIAD:       1244 [ 2392]\n              FNV-1a:       1289 [ 2446]\n              Larson:       1286 [ 2447]\n              CRC-32:       1306 [ 2400]\n             Murmur2:       1282 [ 2399]\n             Murmur3:       1286 [ 2376]\n           XXHfast32:       1404 [ 2494]\n         XXHstrong32:       1441 [ 2496]\n           iSCSI CRC:       1104 [ 2388]\n \ndic_ip.txt: \n3925 lines read\n8192 elements in the table (13 bits)\n           Jesteress:        173 [  819]\n              Meiyan:        171 [  807]\n              Pippip:        140 [  856]\n         Totenschiff:        153 [  803]\n             Yorikke:        164 [  791]\n           Yoshimura:        179 [  821]\n            LeoPelle:        561 [  786] ! Best dispersion on IPs !\n              wyhash:        242 [  793]\n     YoshimitsuTRIAD:        220 [  821]\n              FNV-1a:        311 [  796]\n              Larson:        300 [  789]\n              CRC-32:        253 [  802]\n             Murmur2:        230 [  825]\n             Murmur3:        249 [  818]\n           XXHfast32:        308 [  829]\n         XXHstrong32:        315 [  829]\n           iSCSI CRC:        166 [  795]\n \ndic_numbers.txt: \n500 lines read\n1024 elements in the table (10 bits)\n           Jesteress:         16 [  300]\n              Meiyan:         14 [  125]\n              Pippip:         13 [  116]\n         Totenschiff:         14 [  116]\n             Yorikke:         14 [   82]\n           Yoshimura:         15 [   86]\n            LeoPelle:         62 [  104]\n              wyhash:         23 [  120]\n     YoshimitsuTRIAD:         19 [   86]\n              FNV-1a:         16 [  108]\n              Larson:         14 [   16]\n              CRC-32:         14 [   64]\n             Murmur2:         17 [  104]\n             Murmur3:         17 [  104]\n           XXHfast32:         23 [  102]\n         XXHstrong32:         23 [  102]\n           iSCSI CRC:         10 [  112]\n \ndic_postfix.txt: \n500 lines read\n1024 elements in the table (10 bits)\n           Jesteress:         20 [  106]\n              Meiyan:         25 [  112]\n              Pippip:         17 [  115]\n         Totenschiff:         20 [  100]\n             Yorikke:         25 [  100]\n           Yoshimura:         19 [  112]\n            LeoPelle:         81 [  101]\n              wyhash:         45 [  103]\n     YoshimitsuTRIAD:         28 [  103]\n              FNV-1a:         84 [  105]\n              Larson:         83 [  105]\n              CRC-32:         55 [   94]\n             Murmur2:         32 [  111]\n             Murmur3:         40 [  105]\n           XXHfast32:         29 [  106]\n         XXHstrong32:         34 [  112]\n           iSCSI CRC:         24 [   92]\n \ndic_prefix.txt: \n500 lines read\n1024 elements in the table (10 bits)\n           Jesteress:         22 [  102]\n              Meiyan:         25 [  106]\n              Pippip:         17 [  110]\n         Totenschiff:         20 [   98]\n             Yorikke:         26 [   92]\n           Yoshimura:         20 [  109]\n            LeoPelle:         83 [  105]\n              wyhash:         46 [  109]\n     YoshimitsuTRIAD:         29 [  101]\n              FNV-1a:         84 [   94]\n              Larson:         83 [   99]\n              CRC-32:         55 [  107]\n             Murmur2:         32 [  106]\n             Murmur3:         40 [  103]\n           XXHfast32:         29 [  103]\n         XXHstrong32:         34 [  102]\n           iSCSI CRC:         25 [  106]\n \ndic_Shakespeare.txt: \n3228 lines read\n8192 elements in the table (13 bits)\n           Jesteress:        212 [  585]\n              Meiyan:        214 [  588]\n              Pippip:        106 [  577]\n         Totenschiff:        111 [  589]\n             Yorikke:        106 [  536]\n           Yoshimura:        223 [  552]\n            LeoPelle:        391 [  544]\n              wyhash:        263 [  599]\n     YoshimitsuTRIAD:        249 [  552]\n              FNV-1a:        249 [  555]\n              Larson:        249 [  583]\n              CRC-32:        239 [  563]\n             Murmur2:        237 [  566]\n             Murmur3:        239 [  555]\n           XXHfast32:        252 [  491]\n         XXHstrong32:        256 [  491]\n           iSCSI CRC:        209 [  584]\n \ndic_variables.txt: \n1842 lines read\n4096 elements in the table (12 bits)\n           Jesteress:        142 [  366]\n              Meiyan:        150 [  350]\n              Pippip:         87 [  357]\n         Totenschiff:         80 [  366]\n             Yorikke:         84 [  350]\n           Yoshimura:        140 [  356]\n            LeoPelle:        240 [  366]\n              wyhash:        160 [  372]\n     YoshimitsuTRIAD:        161 [  361]\n              FNV-1a:        181 [  374]\n              Larson:        180 [  366]\n              CRC-32:        166 [  338]\n             Murmur2:        153 [  383]\n             Murmur3:        161 [  334]\n           XXHfast32:        168 [  347]\n         XXHstrong32:        173 [  355]\n           iSCSI CRC:        144 [  368]\n \nKAZE_www.byronknoll.com_cmix-v18.zip_english.dic: \n44880 lines read\n131072 elements in the table (17 bits)\n           Jesteress:       3729 [ 6721]\n              Meiyan:       3826 [ 6923]\n              Pippip:       2423 [ 6822]\n         Totenschiff:       2586 [ 6818]\n             Yorikke:       2651 [ 6883]\n           Yoshimura:       3807 [ 7013]\n            LeoPelle:       6938 [ 6908]\n              wyhash:       4281 [ 6812]\n     YoshimitsuTRIAD:       4146 [ 7006]\n              FNV-1a:       4351 [ 6833]\n              Larson:       4325 [ 6830]\n              CRC-32:       4396 [ 6891]\n             Murmur2:       4281 [ 6820]\n             Murmur3:       4292 [ 6874]\n           XXHfast32:       4567 [ 6812]\n         XXHstrong32:       4667 [ 6819]\n           iSCSI CRC:       3639 [ 6785]\n \nKAZE_3333_Latin_Powers.TXT: \n3333 lines read\n8192 elements in the table (13 bits)\n           Jesteress:        202 [  576]\n              Meiyan:        210 [  583]\n              Pippip:        142 [  560]\n         Totenschiff:        161 [  602]\n             Yorikke:        196 [  573]\n           Yoshimura:        155 [  593]\n            LeoPelle:        566 [  602]\n              wyhash:        263 [  595]\n     YoshimitsuTRIAD:        232 [  615]\n              FNV-1a:        551 [  604]\n              Larson:        540 [  581]\n              CRC-32:        407 [  613]\n             Murmur2:        264 [  600]\n             Murmur3:        303 [  583]\n           XXHfast32:        226 [  596]\n         XXHstrong32:        257 [  571]\n           iSCSI CRC:        216 [  594]\n \n\"KAZE_IPS_(3_million_IPs_dot_format).TXT\": \n2995394 lines read\n8388608 elements in the table (23 bits)\n           Jesteress:     479224 [691369]\n              Meiyan:     464853 [593723]\n              Pippip:     448279 [476410]\n         Totenschiff:     516702 [476467]\n             Yorikke:     536163 [506954]\n           Yoshimura:     462728 [476699]\n            LeoPelle:    1377047 [476087]\n              wyhash:     557265 [476412]\n     YoshimitsuTRIAD:     494215 [476699]\n              FNV-1a:     721015 [477067]\n              Larson:     708784 [475575]\n              CRC-32:     604314 [472854]\n             Murmur2:     586309 [476330]\n             Murmur3:     581613 [476845]\n           XXHfast32:     677829 [476358]\n         XXHstrong32:     694420 [476358]\n           iSCSI CRC:     395067 [479542]\n \n\"KAZE_Word-list_12,561,874_wikipedia-en-html.tar.wrd\": \n12561874 lines read\n33554432 elements in the table (25 bits)\n           Jesteress:    2333882 [2121868]\n              Meiyan:    2385505 [2111271]\n              Pippip:    2141209 [2084750]\n         Totenschiff:    2294174 [2084381]\n             Yorikke:    2367833 [2099673]\n           Yoshimura:    2375780 [2086155]\n            LeoPelle:    5581455 [2084471]\n              wyhash:    2799528 [2081865]\n     YoshimitsuTRIAD:    2536009 [2084931]\n              FNV-1a:    3134136 [2081195]\n              Larson:    3017962 [2080111]\n              CRC-32:    2994616 [2075088]\n             Murmur2:    2855417 [2081476]\n             Murmur3:    2860693 [2082084]\n           XXHfast32:    3085141 [2084164]\n         XXHstrong32:    3190057 [2084514]\n           iSCSI CRC:    2161231 [2077725]\n \nKAZE_www.gutenberg.org_ebooks_100.txt: \n138578 lines read\n524288 elements in the table (19 bits)\n           Jesteress:      24192 [31211]\n              Meiyan:      24668 [31116]\n              Pippip:      18222 [31196]\n         Totenschiff:      20360 [31134]\n             Yorikke:      23712 [31139]\n           Yoshimura:      19543 [31245]\n            LeoPelle:      48454 [31372]\n              wyhash:      28113 [31260]\n     YoshimitsuTRIAD:      27275 [31316]\n              FNV-1a:      49301 [31178]\n              Larson:      49184 [31406]\n              CRC-32:      41684 [31210]\n             Murmur2:      31683 [31203]\n             Murmur3:      31564 [31308]\n           XXHfast32:      24667 [31146]\n         XXHstrong32:      27229 [31118]\n           iSCSI CRC:      22622 [31248]\n \nKAZE_www.maximumcompression.com_english.dic: \n354951 lines read\n1048576 elements in the table (20 bits)\n           Jesteress:      50179 [53809]\n              Meiyan:      51489 [54013]\n              Pippip:      44641 [53393]\n         Totenschiff:      48526 [53546]\n             Yorikke:      50078 [53782]\n           Yoshimura:      51705 [53768]\n            LeoPelle:     120381 [53627]\n              wyhash:      61663 [53996]\n     YoshimitsuTRIAD:      55429 [53658]\n              FNV-1a:      68594 [53896]\n              Larson:      67472 [54076]\n              CRC-32:      65315 [54020]\n             Murmur2:      62624 [53857]\n             Murmur3:      62975 [53983]\n           XXHfast32:      68514 [53411]\n         XXHstrong32:      70636 [53391]\n           iSCSI CRC:      46514 [53915]\n \nKAZE_enwiki-20190920-pages-articles.xml.SORTED.wrd: \n42206534 lines read\n134217728 elements in the table (27 bits)\n           Jesteress:    9193542 [6011292]\n              Meiyan:    9452745 [5985680]\n              Pippip:    8748221 [5996107]\n         Totenschiff:    9232164 [5996598]\n             Yorikke:    9269432 [6011605]\n           Yoshimura:    9597632 [5991798]\n            LeoPelle:   22517088 [5996503] ! Hm, I expected better dispersion for so many keys !\n              wyhash:   11240783 [5991525]\n     YoshimitsuTRIAD:   10191346 [5992635]\n              FNV-1a:   12012840 [5980248]\n              Larson:   11012405 [5937238]\n              CRC-32:   11593089 [5843653]\n             Murmur2:   11297683 [5991065]\n             Murmur3:   11319826 [5992379]\n           XXHfast32:   12025495 [6008154]\n         XXHstrong32:   12389242 [6007552]\n           iSCSI CRC:    8451327 [5803092]\n``` \n\nThanks.\nThe C source and the Intel v19.0 64bit binary is here:\nwww.sanmayce.com/Fastest_Hash/PeterK_strchr.com_iSCSI-CRC_vs_WYHASH_vs_FNV1A-Pippip-v1.zip","files":null},{"type":3,"author":{"id":"382e0604a0cc648df6764230ea7ce0b626217738167eb2200238272b6c52e2a8"},"timestamp":1572459007,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU0ODA0MzM5OQ==","github-url":"https://github.com/rurban/smhasher/issues/73#issuecomment-548043399"},"nonce":"t3hDHu68hurtll3LQsvl73jXyus=","message":"@dumblob \n\n\u003eplease be so kind and take a thorough look at http://fastcompression.blogspot.com/2019/03/presenting-xxh3.html presenting in my opinion the currently best hash algorithm in the world and run the full benchmark suite (available under https://github.com/Cyan4973/xxHash/tree/dev/tests/bench ) ...\n\nI did, here are the results:\n\nDidn't have time to run it on all of my laptops, though.\n\n\u003eWe're really eager to see the comparable benchmarking results.\n\nSure, me too:\n\nhttps://github.com/rurban/smhasher/issues/75#issuecomment-547900920\nhttps://github.com/Cyan4973/xxHash/issues/275#issuecomment-546635300\nhttps://github.com/rurban/smhasher/issues/75#issuecomment-548036030","files":null}]}